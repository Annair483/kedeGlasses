"use strict";jQuery(function(e){var i=e("#RUserName"),o=e(".ECT"),r=e("#RPassword"),l=e("#RPassword2"),a=e("#regValidate2"),u=e("#agreeme"),s=new GVerify("v_container"),c=(e(".right_top input"),!0);function f(){var r,t=i.val().trim();if(!/^1[3-9]\d{9}$/.test(t))return o.html("请输入正确的手机号"),console.log("错误号码 返回false"),!1;(r=t,new Promise(function(n,t){e.ajax({type:"POST",url:"../api/checkUname.php",data:{uname:r},success:function(t){n(t)}})})).then(function(t){console.log(t),c="0"!==t||(o.html("该号码已注册"),!1)})}function m(){var t=r.val().trim();return!!/^\S{6,14}$/.test(t)||(o.html("密码由6-15位字母、数字或字符组成"),!1)}function h(){var t=r.val().trim(),n=l.val().trim();return t===n&&""!=t&&""!=n||(o.html("两次密码输入不相同"),!1)}i.on("blur",function(){if(f(),c)return console.log(111),o.html(""),!1}),r.on("blur",function(){if(m())return o.html(""),!1}),l.on("blur",function(){if(h())return o.html(""),!1}),u.on("click",function(){u.toggleClass("position13")}),e(".registerSlide").on("click",function(){if(f(),!c)return!1;if(!m())return!1;if(!h())return!1;if(!s.validate(a.val().trim())&&(o.html("验证码错误"),1))return!1;if(!u.hasClass("position13")&&(o.html("请先同意可得网用户注册协议。"),1))return!1;var t=i.val().trim(),n=r.val().trim();e.ajax({type:"POST",url:"../api/registers.php",data:{uname:t,upw:n},success:function(t){console.log(t),"1"===t&&(location.href="../html/sign.html")}}),console.log(222)})});